=========================================================================================
            EXPLORING COMMON.JS, IMPORT, EXPORT & NAME ALIAS IN NODE.JS
=========================================================================================

***********************************************
# 1. CommonJS ‡¶ï‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶ï‡ßá‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶π‡¶Ø‡¶º?
***********************************************
CommonJS ‡¶π‡¶≤‡ßã Node.js ‡¶è‡¶∞ default module system‡•§
‡¶è‡¶∞ ‡¶Æ‡ßÇ‡¶≤ ‡¶Ü‡¶á‡¶°‡¶ø‡¶Ø‡¶º‡¶æ ‚Üí **‡¶´‡¶æ‡¶á‡¶≤ = ‡¶Æ‡¶°‡¶ø‡¶â‡¶≤**  
‡¶è‡¶¨‡¶Ç ‡¶Æ‡¶°‡¶ø‡¶â‡¶≤ ‚Üí **require()** ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶á‡¶Æ‡ßç‡¶™‡ßã‡¶∞‡ßç‡¶ü, **module.exports** ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü‡•§

CommonJS synchronous ‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá ‡¶ï‡¶æ‡¶∞‡¶£ Node.js server-side environment ‚Äî  
‡¶è‡¶ñ‡¶æ‡¶®‡ßá script ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç async ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶™‡ßú‡ßá ‡¶®‡¶æ‡•§

-----------------------------------------------
# CommonJS = require + module.exports
-----------------------------------------------

***********************************************
# 2. CommonJS Export ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá? 
***********************************************

## (A) Single Value Export
-----------------------------------------------
// math.js
const add = (a, b) => a + b;

/*
  ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡ßÅ‡¶∞‡ßã ‡¶´‡¶æ‡¶á‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ `add` ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶ü‡¶ø module.exports ‡¶è ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§
*/
module.exports = add;
-----------------------------------------------

## Import:
-----------------------------------------------
// app.js
/*
  require() ‡¶™‡ßÅ‡¶∞‡ßã ‡¶´‡¶æ‡¶á‡¶≤‡¶ü‡¶ø run ‡¶ï‡¶∞‡ßá ‡¶è‡¶¨‡¶Ç module.exports ‡¶Ø‡¶æ return ‡¶ï‡¶∞‡ßá
  ‡¶∏‡ßá‡¶ü‡¶æ‡¶ï‡ßá‡¶á `add` ‡¶®‡¶æ‡¶Æ‡ßá ‡¶∞‡¶ø‡¶∏‡¶ø‡¶≠ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø‡•§
*/
const add = require("./math");

console.log(add(5, 7));   // Output: 12
-----------------------------------------------


## (B) Multiple Export
-----------------------------------------------
// utils.js
const add = (a, b) => a + b;
const sub = (a, b) => a - b;

/*
  Object ‡¶Ü‡¶ï‡¶æ‡¶∞‡ßá ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï export ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§
*/
module.exports = { add, sub };
-----------------------------------------------

## Import:
-----------------------------------------------
// app.js
const { add, sub } = require("./utils");

console.log(add(10, 5));
console.log(sub(10, 5));
-----------------------------------------------


***********************************************
# 3. CommonJS Export Alias (name change)
***********************************************
‡¶Ø‡¶ñ‡¶® export ‡¶ï‡¶∞‡¶æ ‡¶®‡¶æ‡¶Æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶á:

-----------------------------------------------
// utils.js
const add = (a, b) => a + b;
const multiply = (a, b) => a * b;

module.exports = {
  addNumbers: add,        // alias
  multi: multiply         // alias
};
-----------------------------------------------

-----------------------------------------------
// app.js
const { addNumbers, multi } = require("./utils");

console.log(addNumbers(2, 3));  
console.log(multi(2, 3));
-----------------------------------------------


***********************************************
# 4. module.exports vs exports ‡¶è‡¶∞ ‡¶™‡¶æ‡¶∞‡ßç‡¶•‡¶ï‡ßç‡¶Ø
***********************************************

üîπ `module.exports` ‚Üí ‡¶Ü‡¶∏‡¶≤ export object  
üîπ `exports` ‚Üí ‡¶∂‡ßÅ‡¶ß‡ßÅ shortcut reference  

‚ö†Ô∏è Important Rule:  
`exports = something` ‡¶¶‡¶ø‡¶≤‡ßá reference ‡¶≠‡ßá‡¶ô‡ßá ‡¶Ø‡¶æ‡¶Ø‡¶º ‚Äî ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ‡•§  
`module.exports = something` ‡¶¶‡¶ø‡¶≤‡ßá ‡¶∏‡¶¨ ‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá‡•§


***********************************************
# 5. ES Modules (import/export) ‡¶ï‡ßá‡¶® ‡¶è‡¶≤?
***********************************************
CommonJS ‚Üí ‡¶™‡ßÅ‡¶∞‡ßã‡¶®‡ßã system  
ES Module ‚Üí modern, browser-friendly, async, tree‚Äìshakable, faster  

ESM ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ:
‚úî Syntax clean  
‚úî Top-level await allowed  
‚úî Static analysis possible  
‚úî Better tooling support


***********************************************
# 6. ES Module Export ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶π‡¶Ø‡¶º?
***********************************************

## (A) Named Export
-----------------------------------------------
// math.js
export const add = (a, b) => a + b;
export const sub = (a, b) => a - b;
-----------------------------------------------

## Import:
-----------------------------------------------
// app.js
import { add, sub } from "./math.js";

console.log(add(10, 20));
-----------------------------------------------


## (B) Default Export
-----------------------------------------------
// calc.js
export default function calc(a, b) {
  return a + b;
}
-----------------------------------------------

## Import:
-----------------------------------------------
// app.js
import calc from "./calc.js";

console.log(calc(10, 10));
-----------------------------------------------


***********************************************
# 7. ES Module Alias (name change)
***********************************************

## Export-side alias üåü
-----------------------------------------------
// math.js
const add = (a, b) => a + b;
const subtract = (a, b) => a - b;

/*
  export ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßü alias ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü
*/
export { 
  add as addNumbers, 
  subtract as minus 
};
-----------------------------------------------

## Import-side alias üåü
-----------------------------------------------
// app.js
import { 
  addNumbers as addFn, 
  minus as minusFn 
} from "./math.js";

console.log(addFn(5, 5));
console.log(minusFn(10, 3));
-----------------------------------------------


***********************************************
# 8. ES Module Default + Named ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá Export
****************************************---------------
export const PI = 3.1416;

export default function area(r) {
  return PI * r * r;
}
-----------------------------------------------

-----------------------------------------------
// app.js
import area, { PI } from "./circle.js";

console.log(area(10));
console.log(PI);
-----------------------------------------------


***********************************************
# 9. ES Module vs CommonJS ‚Üí Helper Table
***********************************************
| Feature | CommonJS | ES Module |
|--------|-----------|-----------|
| Import | require() | import |
| Export | module.exports | export/export default |
| Load | Synchronous | Asynchronous |
| Browser support | ‚ùå | ‚úî |
| Modern standard | ‚ùå | ‚úî |


***********************************************
# 10. Node.js ‡¶è ES Module ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶≤‡ßá
***********************************************

Option 1 ‚Üí package.json ‡¶è:
-----------------------------------------------
{
  "type": "module"
}
-----------------------------------------------

Option 2 ‚Üí ‡¶´‡¶æ‡¶á‡¶≤ extension `.mjs`


***********************************************
# 11. ‡¶ï‡¶ñ‡¶® CommonJS ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨?
***********************************************
‚úî ‡¶™‡ßÅ‡¶∞‡ßã‡¶®‡ßã Node.js ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü  
‚úî npm ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶è‡¶ñ‡¶®‡¶ì CJS  
‚úî synchronous module loading ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞  
‚úî Performance-critical low-level ‡¶ï‡¶æ‡¶ú  


***********************************************
# 12. ‡¶ï‡¶ñ‡¶® ES Module ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨?
***********************************************
‚úî Modern Node.js project  
‚úî Full-stack JS (browser + server)  
‚úî Top-level await ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞  
‚úî Tree-shaking ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞  
‚úî Clean syntax ‡¶ö‡¶æ‡¶á  


==============================================================
                        THE END
==============================================================
